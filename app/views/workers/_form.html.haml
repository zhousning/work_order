.container-fluid
  .row.justify-content-sm-center
    .col-sm-12
      = form_for @worker, :url => "/factories/#{idencode(@factory.id)}/workers/#{@worker.id ? idencode(@worker.id) : ''}", :builder => WebsiteFormBuilder, :html => {:'data-parsley-validate' => true} do |f|
        - if @worker.errors.any?
          #error_explanation.alert.alert-danger.alert-dismissible.fade.show
            %button.close{"aria-label" => "Close", "data-dismiss" => "alert", :type => "button"}
              %span{"aria-hidden" => "true"} x 
            %h2= "#{pluralize(@worker.errors.count, "错误")}:"
            %ul
              - @worker.errors.full_messages.each do |msg|
                %li= msg
        .row
          .col-sm-12
            %h2.text-center
              = @worker.idno
          .col-md-8.offset-md-2.p-5.border
            #flash_explanation
            .card.border-0.mb-3.rounded-0
              .card-body
                %table.w-100.table-bordered.day-pdt-table
                  %tbody
                    
                    %tr
                      %td.p-2.text-center
                        = f.label Setting.workers.name, :class => "text-center"
                      %td.p-2.text-center
                        = f.text_field :name, :class => "form-control" , :required => true
                      
                      %td.p-2.text-center
                        = f.label Setting.workers.phone, :class => "text-center"
                      %td.p-2.text-center
                        = f.text_field :phone, :class => "form-control" , :required => true
                    
                    %tr
                      %td.p-2.text-center
                        = f.label Setting.workers.gender, :class => "text-center"
                      %td.p-2.text-center
                        .form-check.form-check-inline
                          = f.radio_button :gender, Setting.systems.man_no, :class => "form-check-input", :checked => "checked"
                          = f.label Setting.systems.man, :class => "form-check-label"
                        .form-check.form-check-inline
                          = f.radio_button :gender, Setting.systems.woman_no, :class => "form-check-input"
                          = f.label Setting.systems.woman, :class => "form-check-label"
                    
                      %td.p-2.text-center
                        = f.label Setting.workers.adress, :class => "text-center"
                      %td.p-2.text-center{:colspan => 3}
                        = f.text_field :adress, :class => "form-control" 

                    %tr
                      %td.p-2.text-center
                        = f.label Setting.workers.info, :class => "text-center"
                      %td.p-2.text-center{:colspan => 3}
                        = f.text_area :info, :class => "form-control", :rows => '10' 
                    
                    -#
                      %td.p-2.text-center
                        = f.label Setting.workers.state, :class => "text-center"
                      %td.p-2.text-center
                        = f.text_field :state, :class => "form-control" , :required => true
                      
                      %tr
                        %td.p-2.text-center
                          = f.label Setting.workers.desc, :class => "text-center"
                        %td.p-2.text-center
                          = f.text_field :desc, :class => "form-control" , :required => true
                      
                    
          
            -#
              .form-group.row
                = f.label "一寸照片", :class => "col-2 col-form-label text-right"
                .col-10
                  %label.newbutton
                    = image_tag f.one_image("avatar"), :class => "blah"
                    = f.file_field :avatar, :accept => "image/png, image/jpeg, image/gif", :class => "select-file", :onchange => "readURL(this);"
          
              .form-group.row
                = f.label "身份证正面", :class => "col-2 col-form-label text-right"
                .col-10
                  %label.newbutton
                    = image_tag f.one_image("idfront"), :class => "blah"
                    = f.file_field :idfront, :accept => "image/png, image/jpeg, image/gif", :class => "select-file", :onchange => "readURL(this);"
          
              .form-group.row
                = f.label "身份证反面", :class => "col-2 col-form-label text-right"
                .col-10
                  %label.newbutton
                    = image_tag f.one_image("idback"), :class => "blah"
                    = f.file_field :idback, :accept => "image/png, image/jpeg, image/gif", :class => "select-file", :onchange => "readURL(this);"
          
          
          
            .form-group.row
              .col-3.offset-3
                = f.submit '保存', :class => "button  button-small button-action"
            -#
              .col-3.offset-1
                = link_to '返回', workers_path, :class => "button button-small  button-caution"
